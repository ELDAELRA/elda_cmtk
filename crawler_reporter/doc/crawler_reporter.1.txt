CRAWLER_REPORTER(1)
==================
:doctype: manpage

NAME
----
crawler_reporter - generates reporting information from the crawled data

SYNOPSIS
--------
*crawler_reporter* 'OPTIONS'

DESCRIPTION
-----------
The crawler_reporter(1) takes the results of a crawling batch as input, as
generated via the crawler_launcher tool, looks for the 'output_data_*-*.tmx'
files in each per-web site directory and produces three pieces of information:
a synthesis report containing crawled web site and language pair-wise entries
holding various statistics, viz. site provenance, total number of tokens, total
number of TUs, average alignment score, average length ratio, alignment score
and length ratio variances; a full report containing TU-wise entries holding
various statistics, viz. crawled web site, "original" web sites having provided
TUs, TU provenance, source and target texts, languages, token counts, alignment
score, as well as a "further information" attribute holding other information as
provided by the crawler in the produced TMX files; finally, a list of unique
URLs, basically holding the domains of the sites having provided TUs.
The crawler_reporter(1) tool builds several files implicitly.
When producing synthesis reports (this is the default behavior), the tool
produces two files, in the report directory name,
report_synthesis'_metadata|'_'today'.csv and
unique_original_urls'_metadata|'_'today'.csv.

The report_synthesis'_metadata|'_'today'.csv file contains 11 columns and has one entry per site and language pair. The columns are

- "Crawled web site": the web site (domain) corresponding the URL being
crawled.

- "Provenance": the country if TLD authorizes this, or "Unknown (extension:
'extension') if 'extension' is one of: 'org', 'com', 'info', 'eu', 'biz',
'int', 'net'.

- "Source language": the ISO-639-1 code of the "source" language, i.e. the
first language in the TMX file generated by the ILSP-FC crawler for this
language pair.

- "Target language": the ISO-639-1 code of the "target" language, i.e. the
second language in the TMX file generated by the ILSP-FC crawler for this
language pair.

- "Source token count": total number of tokens in the "source"
language. The TUVs are tokenized on the whitespace character.

- "Target token count": total number of tokens in the "target" language.

- "TU count": total number of TUs for the "source", "target" language pair.

- "TU alignment score mean": arithmetic mean of the TU alignment scores
computed by e.g. Maligna via the ILSP-FC crawler.

- "TU alignment score variance": variance of the TU alignment scores
computed by e.g. Maligna via the ILSP-FC crawler.

- "TU length ratio mean": arithmetic mean of the TU character length ratios
computed by the ILSP-FC.

- "TU length ratio variance": variance of the TU character length ratios
computed by the ILSP-FC.


The unique_original_urls'_metadata|'_'today'.csv contains web sites that have
provided TUs, i.e. the unique sites that are specified in the "site" prop type
(for ILSP-FC 2.2.3) or extracted from the "l1-url" and "l2-url" prop types.  
A special sub-domain analysis is done at this stage, in that sub-domains of
the same web-site are not added. Only one single such (sub-) domain is added
if the domain has been specified as crawling web site.
'metadata' is specified by the user through the '-M' option and 'today'
is the current date in a '%day%month%Year' format, e.g. for 2016-01-31,
'today' is 31012016.
When producing full reports (via the '-s false' option), the tool produces
a single file: report_full'_metadata|'_'today'.csv.
This CSV file contains 11 columns and has one entry per TU. The columns are:

- "Crawled web site": The web site extracted from the URL given to the ILSP-FC
  crawler via the crawler_launcher(1) tool.

- "Original web site": The web site the TU is actually crawled from. Extracted
  from the "site" prop type (for ILSP-FC 2.2.3) or from the "l1-url" and
  "l2-url" prop types (for ILSP-FC 2.2.4-SNAPSHOT). If two sites are given in
  the "site" prop type, or if ILSP-FC 2.2.4-SNAPSHOT is used, two sites are
  placed in this column and separated by a semicolon ';').

- "Provenance": same meaning as for the synthesis report.

- "Source text": the text of the first TUV.

- "Source token count": the number of tokens in the first TUV.

- "Source language": the language of the text in the first TUV, as indicated
  by the ILSP-FC crawler (based on the Cybozu language detector).

- "Target text": the text of the second TUV.

- "Target token count": the number of tokens in the first TUV.

- "Target language": the language of the text in the second TUV.

- "Alignment score": the alignment score computed by e.g. Maligna, via the
  ILSP-FC crawler.

- "Futher information": the contents of the "info" prop type as filled in by
  the ILSP-FC crawler for each TU.
 
Here, 'metadata' and 'today' have the same meaning and values as for the synthesis reports.

OPTIONS
-------
*-D*::
    Root directory where the crawling results are. This directory designates
    a crawling batch which holds the crawled TMX data.

*-R*::
    Report directory name.

*--maxdepth 'NUMBER'*::
    Search depth for the TMX files (very big - 4611686018427387903 - by
    default).

*-M* 'TEXT'::
    Optional metadata to add to the report file name.

*-d*::
    CSV delimiter for the output synthesis and full reports (; by default).

*-m*::
    Crawler mode ('mono' or 'multi').

*-s*::
    Run in synthesis mode (false by default, in which case full reports are
    produced). If true, then synthesis reports are produced.

*-version*::
    Print the program build version and exit.

*-help,--help,-?*::
    Print this help text and exit.

EXIT STATUS
-----------

*0*::
    Success

*Exception raised*::
    Failure (especially IO errors regarding the reading of the data,
    ill-formatted TMX errors, or writing IO errors when producing the output
    files).

AUTHOR
------
crawler_reporter was written by Vladimir Popescu, on behalf of ELDA, the
Evaluations and Language Resources Distribution Agency.

COPYING
-------
Copyright \(C) 2016 ELDA. All rights reserved. Distributed under the terms of
the GNU General Public License version 3, accessible at
<http://www.gnu.org/licenses/.
